fetch(apiUrl)
    .then(response => {
        if (!response.ok) {
            throw new Error('Network response was not ok');
        }

        // Kiểm tra Content-Type trong header
        const contentType = response.headers.get('Content-Type');
        console.log('Content-Type:', contentType); // In ra Content-Type

        if (contentType && contentType.startsWith('image/')) {
            return response.text(); // Nếu là hình ảnh, đọc dữ liệu
        } else {
            throw new Error('Received data is not an image');
        }
    })
    .then(data => {
        const imageElement = document.createElement('img');
        imageElement.src = `data:image/png;base64,${data}`; // Hoặc loại hình ảnh phù hợp
        document.body.appendChild(imageElement);
    })
    .catch(error => {
        console.error('Error fetching the API:', error);
    });